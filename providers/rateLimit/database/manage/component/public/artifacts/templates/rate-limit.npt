{ 
	"category": "Security",
	"name": "Rate Limits",
	"description": "Manage the rate limiting your application",
	"icon": "images/rate-limit/rate-limit.png",
	"content": {
		"type": "page",
		"content": {"rows":[{"id":1,"cells":[{"id":2,"rows":[],"alias":"data-table-list","bindings":{"limit":null,"offset":null,"orderBy":null,"action":null,"id":null,"properties":null},"name":null,"state":{"autoRefresh":null,"orderBy":[],"filterPlaceHolder":null,"filterType":"data-combo-filter","title":"Rate Limits","limit":10,"actions":[{"name":"createRule","icon":null,"class":"primary","label":"Add Rate Limit Rule","condition":null,"refresh":false,"global":true,"close":false,"type":"button","useSelection":false},{"name":"selectRule","icon":null,"class":null,"label":null,"condition":null,"refresh":false,"global":false,"close":false,"type":"button","useSelection":false},{"name":"editRule","icon":"fa-pencil-alt","class":null,"label":null,"condition":null,"refresh":false,"global":false,"close":false,"type":"button","useSelection":false}],"filters":[{"arbitrary":false,"name":"applicationId","label":"Application","description":null,"type":"enumeration-operation","enumerations":[],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"enumerationProvider":null,"enumerationOperation":"nabu.web.application.providers.rateLimit.database.manage.rest.applications","enumerationOperationLabel":"id","enumerationOperationValue":"id","enumerationOperationQuery":null,"enumerationOperationBinding":{}},{"arbitrary":false,"name":"action","label":"Action","description":null,"type":"enumeration-operation","enumerations":[],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"enumerationProvider":null,"enumerationOperation":"nabu.web.application.providers.rateLimit.database.manage.rest.rateLimits","enumerationOperationLabel":"action","enumerationOperationValue":"action","enumerationOperationQuery":null,"enumerationOperationBinding":{"applicationId":"page.application"},"hideLabel":false}],"fields":[{"label":"Active","fragments":[{"type":"form","key":"active","content":null,"format":"checkbox","javascript":null,"template":null,"class":null,"form":{"name":"active","label":null,"description":null,"type":"checkbox","enumerations":[],"value":null,"validationSuccessEvent":{"eventFields":[],"name":null},"bindings":{}},"dateFormat":null,"tag":null,"html":null,"amountOfDecimals":null,"disabled":null}],"styles":[],"hidden":null},{"label":"Action","fragments":[{"type":"data","key":"action","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Amount","fragments":[{"type":"data","key":"amount","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Identity","fragments":[{"type":"data","key":"identityLimit","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Context","fragments":[{"type":"data","key":"contextLimit","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Interval","fragments":[{"type":"data","key":"interval","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Code","info":null,"infoIcon":null,"fragments":[{"type":"data","content":null,"format":null,"javascript":null,"template":null,"class":null,"key":"code","disabled":null,"hidden":null,"form":{},"dateFormat":null,"tag":null,"html":null,"amountOfDecimals":null}],"hidden":null,"styles":[],"arbitrary":false},{"label":"Application","info":null,"infoIcon":null,"fragments":[{"type":"data","content":null,"format":null,"javascript":null,"template":null,"class":null,"key":"applicationId","disabled":null,"hidden":null,"form":{},"dateFormat":null,"tag":null,"html":null,"amountOfDecimals":null}],"hidden":null,"styles":[],"arbitrary":false}],"updateOperation":"nabu.web.application.providers.rateLimit.database.crud.rateLimitRule.services.update","updateBindings":{"id":"record.id","body":null},"multiselect":false,"styles":[],"refreshOn":["createdRule"],"showRefresh":false,"result":{"action":{"label":null,"format":null,"custom":null,"styles":[]},"active":{"label":null,"format":null,"custom":null,"styles":[]},"amount":{"label":null,"format":null,"custom":null,"styles":[]},"contextLimit":{"label":null,"format":null,"custom":null,"styles":[]},"id":{"label":null,"format":null,"custom":null,"styles":[]},"identityLimit":{"label":null,"format":null,"custom":null,"styles":[]},"interval":{"label":null,"format":null,"custom":null,"styles":[]},"applicationId":{"label":null,"format":null,"custom":null,"styles":[]},"description":{"label":null,"format":null,"custom":null,"styles":[]},"code":{"label":null,"format":null,"custom":null,"styles":[]}},"operation":"nabu.web.application.providers.rateLimit.database.crud.rateLimitRule.services.list","comboFilter":{"useTags":true},"useNativeTable":true,"detailFields":[]},"target":"page","on":null,"class":null,"customId":null,"width":1,"height":null,"instances":{},"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"result":{}}],"class":null,"customId":null,"instances":{},"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null},{"id":3,"cells":[{"id":4,"rows":[],"alias":"page-form","bindings":{"body.identityLimit":null,"body.contextLimit":null,"body.action":null,"body.interval":null,"body.amount":null,"body.active":"fixed.true","body.applicationId":"page.application"},"name":null,"state":{"title":"Add Rule","immediate":false,"pages":[{"name":"Form Fields","title":null,"fields":[{"arbitrary":false,"name":"body.action","label":"Action","description":null,"type":"enumeration-operation","enumerations":[],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"enumerationProvider":null,"enumerationOperation":"nabu.web.application.providers.rateLimit.database.manage.rest.rateLimits","enumerationOperationLabel":"action","enumerationOperationValue":"action","enumerationOperationQuery":"q","enumerationOperationBinding":{"applicationId":"page.application"},"placeholder":"nabu.cms.core.login","info":"The action you want to limit on"},{"arbitrary":false,"name":"body.identityLimit","label":"Identity Limit","description":null,"type":"enumeration","enumerations":["ip","token","anonymous"],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"info":"Which data should be used to establish the identity?"},{"arbitrary":false,"name":"body.contextLimit","label":"Context Limit","description":null,"type":"enumeration","enumerations":["action","context","actionAndContext"],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"info":null},{"arbitrary":false,"name":"body.interval","label":"Interval (ms)","description":null,"type":"text","enumerations":[],"value":null,"group":"row","joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"placeholder":null,"textType":"number","bindings":{}},{"arbitrary":false,"name":"body.amount","label":"Amount","description":null,"type":"text","enumerations":[],"value":null,"group":null,"joinGroup":true,"validationSuccessEvent":{"eventFields":[],"name":null},"textType":"number","bindings":{}},{"arbitrary":false,"name":"body.applicationId","label":"Application","description":null,"type":"enumeration-operation","enumerations":[],"value":null,"group":null,"joinGroup":false,"validationSuccessEvent":{"eventFields":[],"name":null},"enumerationProvider":null,"enumerationOperation":"nabu.web.application.providers.rateLimit.database.manage.rest.applications","enumerationOperationLabel":"id","enumerationOperationValue":"id","enumerationOperationQuery":null,"enumerationOperationBinding":{}}]}],"class":null,"ok":"Ok","edit":"Edit","next":"Next","cancel":"Cancel","event":"createdRule","synchronize":false,"autoclose":true,"operation":"nabu.web.application.providers.rateLimit.database.crud.rateLimitRule.services.create"},"target":"prompt","on":"createRule","class":null,"customId":null,"width":1,"height":null,"instances":{},"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"cellState":{"form":{"properties":{"body":{"type":"object","required":["amount","active"],"properties":{"applicationId":{"description":"The web application this applies to. If not filled in, it applies to all.","type":"string"},"identityLimit":{"description":"What identity to limit on, allowed values are \"ip\", \"token\", \"anonymous\". \nIf left open, it applies to everyone.","type":"string"},"contextLimit":{"description":"What we limit the calls on, valid values are \"action\", \"context\", \"actionAndContext\". \nIf left empty the identity is limited in general.","type":"string"},"action":{"description":"If the contextLimit is set to \"action\" or \"actionAndContext\", you must specify the action here. The context is filled in at runtime.","type":"string"},"interval":{"description":"An optional time interval. If left open, the rule counts for all calls ever.","type":"integer","format":"int64"},"amount":{"description":"How many calls can be made using this rule.","type":"integer","format":"int64"},"active":{"description":"For historization reasons you can't update rules. \nWe create new ones and disable older ones.","type":"boolean"},"description":{"description":"A custom description for this rule","type":"string"},"code":{"description":"A custom code for this rule, used to make eventing and logs more clear","type":"string"}}}}}}}],"class":null,"customId":null,"instances":{},"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null},{"id":7,"cells":[{"id":8,"rows":[],"alias":"data-table-list","bindings":{"limit":null,"offset":null,"orderBy":null,"rateLimitRuleId":"selectRule.id","properties":null},"name":null,"state":{"autoRefresh":null,"orderBy":["occurred desc"],"filterPlaceHolder":null,"filterType":null,"title":"Rule Instances","limit":10,"actions":[],"filters":[],"fields":[{"label":"Application","fragments":[{"type":"data","key":"applicationId","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Identity","fragments":[{"type":"data","key":"identity","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Context","fragments":[{"type":"data","key":"context","content":null,"format":null,"javascript":null,"template":null,"class":null,"form":{}}],"styles":[],"hidden":null},{"label":"Occurred","fragments":[{"type":"data","key":"occurred","content":null,"format":"date","javascript":null,"template":null,"class":null,"form":{},"dateFormat":"'yy MMM dd HH:mm:ss","tag":null,"html":null,"amountOfDecimals":null}],"styles":[],"hidden":null}],"updateOperation":null,"updateBindings":{},"multiselect":false,"styles":[],"refreshOn":[],"showRefresh":false,"result":{"applicationId":{"label":null,"format":null,"custom":null,"styles":[]},"context":{"label":null,"format":null,"custom":null,"styles":[]},"id":{"label":null,"format":null,"custom":null,"styles":[]},"identity":{"label":null,"format":null,"custom":null,"styles":[]},"occurred":{"label":null,"format":null,"custom":null,"styles":[]},"rateLimitRuleId":{"label":null,"format":null,"custom":null,"styles":[]}},"operation":"nabu.web.application.providers.rateLimit.database.crud.rateLimitInstance.services.list","detailFields":[],"useNativeTable":true},"target":"page","on":"selectRule","class":null,"customId":null,"width":1,"height":null,"instances":{},"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"result":{}}],"class":null,"customId":null,"instances":{},"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null}],"path":"/rate-limits","counter":17,"variables":[],"query":[],"actions":[],"class":null,"initial":false,"menuX":0,"menuY":0,"states":[],"category":"Security","slow":false,"name":"rate-limit","parameters":[],"roles":["$user"],"label":"Rate Limit"}
	}
}